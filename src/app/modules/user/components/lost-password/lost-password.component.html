<div class="lost-password">
  <h1>Mot de passe perdu</h1>

  <h2>Renseigne d'abord ton nom d'utilisateur</h2>
  <form #usernameForm="ngForm">
    <div class="form-group">
      <div class="form-label">
        <label for="username">Nom d'utilisateur</label>
      </div>
      <div class="form-field">
        <input type="text" class="form-control" id="username" name="username" placeholder="Username" [(ngModel)]="usernameModel.username"
          #username="ngModel" required>
      </div>
      <div *ngIf="username && (username.dirty || username.touched)" class="error">Oublie pas ton nom d'utilisateur</div>
    </div>
    <div class="form-actions">
      <button type="submit" (click)="requestLostPasswordToken()">Go</button>
      <span class="token">Clé : {{ lostPasswordToken }}</span>
    </div>
  </form>

  <h2>Ensuite inscrit la clé et ton nouveau mot de passe</h2>
  <form #lostPasswordForm="ngForm">
    <div class="form-group">
      <div class="form-label">
        <label for="token">Clé</label>
      </div>
      <div class="form-field">
        <input type="text" class="form-control" id="token" name="token" placeholder="Clé" [(ngModel)]="lostPasswordModel.token"
          #token="ngModel" required>
      </div>
      <div *ngIf="token && (token.dirty || token.touched)" class="error">N'oublie pas la clé</div>
    </div>
    <div class="form-group">
      <div class="form-label">
        <label for="new-password">Mot de passe</label>
      </div>
      <div class="form-field">
        <input type="password" class="form-control" id="new-password" name="new-password" placeholder="Mot de passe" [(ngModel)]="lostPasswordModel.newPassword"
          #newPassword="ngModel" required>
      </div>
      <div *ngIf="newPassword && (newPassword.dirty || newPassword.touched)" class="error">N'oublie pas ton mot de passe</div>
    </div>
    <div class="form-group">
      <div class="form-label">
        <label for="repeat-password">Répète ton mot de passe</label>
      </div>
      <div class="form-field">
        <input type="password" class="form-control" id="repeat-password" name="repeat-password" placeholder="Pass again" [(ngModel)]="lostPasswordModel.repeatPassword"
          #repeatPassword="ngModel" required>
      </div>
      <div *ngIf="repeatPassword && (repeatPassword.dirty || repeatPassword.touched)" class="error">Les mots de passe ne sont pas identiques</div>
    </div>
    <div class="form-actions">
      <button type="submit" (click)="requestLostPasswordToken()">Go</button>
    </div>
  </form>
  <div class="error-message" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>
</div>